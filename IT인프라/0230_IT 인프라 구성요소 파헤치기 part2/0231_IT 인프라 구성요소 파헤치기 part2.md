# 3. IT 인프라 구성요소 파헤치기 part2

`Factory` > `0200_IT 인프라 1` > `0220_IT 인프라 구성요소 파헤치기 part2`

## 3.1. 네트워크

### 3.1.1. 네트워크란?

- 네트워크는 Net + Work의 합성어로써 컴퓨터들이 통신기술을 이용하여 그물망처럼 연결된 통신이용형태를 의미합니다.
- 조금 더 쉽게 말하면 두대이상의 컴퓨터들을 연결하고 서로 통신할 수 있는 것을 의미합니다.
- IEEE(국제 전기 전자 공학회)에서는 몇개의 독립적인 장치가 적절한 영역내에서 적당히 빠른 속도의 물리적 통신채널을 통하여 서로가 직접 통신할 수 있도록 지원해주는 데이터 통신체계라고 정의합니다.

### 3.1.2. 네트워크의 종류

| 종류                                     | 설명                                                         |
| ---------------------------------------- | ------------------------------------------------------------ |
| PAN(Personal Area Network)               | - 가장 작은 규모의 네트워크를 말합니다.                      |
| LAN(Local Area Network)                  | - 근거리영역 네트워크를 말합니다.                            |
| MAN(Metropolitan Area Network)           | - 대도시영역 네트워크를 말합니다.                            |
| WAN(Wide Areas Network)                  | - 광대역 네트워크를 말합니다                                 |
| VAN(Value Added Network)                 | - 부가가치통신망 정보의 축적과 제공, 통신속도와 형식의 변화, 통신경로의 선택등 여러종류의 정보 서비스가 부가된 통신망을 말합니다. |
| ISDN(Integrated Service Digital Network) | - 통합정보 통신망(BISDN) 전화,  팩스, 데이터통신, 비디오택스등 통신관련 서비스를 종합하여 다루는 통합서비스 디지털 통신망, 디지털 전송방식과 광섬유 케이블사용, 꿈의 통신망이라 불리는 네트워크를 말합니다. |

### 3.1.3. 네트워크의 장비

#### (1) 라우터

​	<img width="700" alt="스크린샷 2020-11-24 오후 2 44 59" src="https://user-images.githubusercontent.com/71860142/100057719-5b1df380-2e6b-11eb-8194-ba85a252a417.png"> 

- 정의
  - 수신한 패킷을 적절한 경로로 전송하는 네트워크 장비입니다.
  - 라우터는 네트워크를 논리적으로 나누는 장비이기도 합니다.

- 역할

  <img width="700" alt="스크린샷 2020-11-18 오후 6 28 09" src="https://user-images.githubusercontent.com/71860142/100058333-6f162500-2e6c-11eb-89d4-83e5e8825cc7.png"> 

  - 인터넷은 전세계에 걸친 하나의 거대한 네트워크입니다, 인터넷에는 LAN(Local Area Network)이라고 불리는 무수한 로컬네트워크가 있고, LAN끼리는 라우터를 매개로 연결됩니다, LAN에서 WAN(Wide Areas Network)으로 전송하는 메시지가 발생하면 라우터를 통해 다른 LAN의 라우터로 메시지를 전달함으로서 통신이 이루어집니다.
  - 쉽게 설명드리면 메시지가 WAN으로 나가는 것은 해외여행을 하는것과 같고 해외여행을 가려면 공항을 가야하는데 공항이 라우터입니다, 공항에 가지않으면 해외여행을 갈 수 없듯이 라우터 또한 없으면 통신이 외부로 나갈 수 없습니다.

- 구조

  <img width="700" alt="스크린샷 2020-11-24 오후 2 45 55" src="https://user-images.githubusercontent.com/71860142/100057824-856fb100-2e6b-11eb-887b-a39641df205f.png"> 

  - 라우터가 패킷을 받으면 라우터는 패킷에 있는 목적지인 IP주소를 보고 패킷을 적절한 라우터로 전송합니다. 라우터가 전송할 곳을 결정할 때는 라우터에 미리 설정된 라우팅 테이블을 참조합니다.

  - 목적지 IP주소를 포함하는 네트워크 주소와 IP주소가 라우팅테이블에 있을때는 라우팅 테이블에 따라서 패킷을 전송합니다, 하지만 라우팅 테이블에 해당 라우터가 없을때는 기본 게이트웨이로 전송합니다.

  - 라우팅 테이블 관리방법

    <table>
      <tr>
        <td>스태틱 라우팅</td>
        <td>- 라우터에 경로정보를 수동으로 등록해가는 방법입니다.</td>
      </tr>
      <tr>
        <td>다이내믹 라우팅</td>
        <td>- 이웃한 라우터와 통신해서 라우터끼리 경로정보를 자동으로 갱신하는 방법입니다.</td>
      </tr>
    </table>

#### (2) L2와 L3 스위치

<img width="650" alt="스크린샷 2020-11-27 오전 9 45 21" src="https://user-images.githubusercontent.com/71860142/100399293-87b55380-3095-11eb-84cf-71da2b74bd79.png"> 

- L2 스위치
  - 이른바 업무용 스위칭 허브를 말합니다.
  - L2 스위치에 프레임(L2스위치에서는 패킷이 아니라 프레임이라 함)이 들어오면 목적지가 MAC주소를 보고 적절한 포트로 프레임을 전송(스위칭)합니다.
  - L2 스위치내에 기술된 MAC주소 테이블(목적지정보)에 해당 MAC주소가 없을 때는 LAN내 전체에 브로드캐스트해서 응답이 있는 포트로 전송합니다.
- L3 스위치
  - 라우터 기능이 추가된 L2 스위치입니다.
  - 네트워크상에 흘러가는 패킷이 들어오면 L3 스위치는 목적지 IP주소를 보고 적절한 포트로 패킷을 전송합니다.
  - L3 스위치내에 적힌 라우팅 테이블에 해당 MAC주소가 없을 때는 LAN내 전체에 브로드캐스트해서 응답이 있는 포트로 전송합니다.

#### (4) L4와 L7 스위치(로드벨런서)

<img width="650" alt="스크린샷 2020-11-27 오전 9 45 45" src="https://user-images.githubusercontent.com/71860142/100399297-8c7a0780-3095-11eb-8a8b-b0a0752c10c0.png"> 

- 로드밸런서(부하분산기능)가 달린 L3 스위치입니다.
- L4 스위치는 IP와 TCP/IP 포트를 보고 적절한 서비스로 패킷을 전송합니다.
- L7 스위치는 URL을 보고 적절한 서버로 전송합니다.
- L4/ L7 스위치의 특징은 부하를 분산할 때 서버가 살아있는지 죽었는지 감시할 수 있다는 점입니다.
- L4 스위치는 서버의 IP주소와 TCP/IP 포트의 조합을 L7 스위치는 특정 URL을 일정 간격으로 감시하고 예정한 응답이 돌아오지 않으면 부하분산 대상에서 제외합니다.

### 3.1.4. 네트워크의 토폴러지

#### (1) 프론트엔드와 백엔드 2계층구조

​	<img width="700" alt="스크린샷 2020-11-24 오후 2 46 35" src="https://user-images.githubusercontent.com/71860142/100057906-b3ed8c00-2e6b-11eb-9d9a-a8af451c9412.png"> 

- 프론트엔드 : 토폴러지적으로 인터넷에서 가까운 곳에 위치합니다, 서버에 글로벌 IP주소를 부여해서 인터넷과 직접통신하는 경우와 L4 스위치를 매개로 인터넷과 통신하는 경우를 말합니다.
- 백엔드 : 토폴러지적으로 인터넷에서 먼 곳에 위치합니다, 백엔드 계층에 놓인 서버에는 프론트엔드 계층을 거쳐야만 액세스할 수 있으므로, 백엔드 계층에 놓인 서버는 외부에서 직접해킹 공격을 받지 않게 됩니다.

#### (2) 3계층 구조

​	<img width="700" alt="스크린샷 2020-11-24 오후 2 47 06" src="https://user-images.githubusercontent.com/71860142/100057963-ccf63d00-2e6b-11eb-8587-4eba36805077.png"> 

- 코어계층 : 디스트리뷰션 계층에서 모든 통신을 집약해 인터넷과 연결합니다, 기본적으로 네트워크 하나에 코어계층 한세트를 설치합니다.
- 디스트리뷰션 계층 : 디스트리뷰션 계층의 통신을 집약해서 코어계층에 연결하고 액세스 계층간의 통신을 중계합니다.
- 액세스 계층 : 서버에서 오는 통신을 집약해서 디스트리뷰션 계층에 연결합니다. 프론트엔드와 백엔드 2계층구조에서 본 웹서버와 데이터베이스는 일반적으로 액세스층에 놓입니다.

#### (4) 네트워크 패브릭구조

​	<img width="700" alt="스크린샷 2020-11-24 오후 2 47 13" src="https://user-images.githubusercontent.com/71860142/100058010-e303fd80-2e6b-11eb-985e-91143aa06ffb.png"> 

- 네트워크 패브릭은 액세스 계층의 L2네트워크를 가상화하여 물리적으로 다른 렉이나 스위치를 논리적으로 한 네트워크로 보이게 하는 기술입니다, 결론적으로 액세스 계층에 해당하는 L2네트워크가 플랫화합니다.
- 장점으로는 서버를 액세스 계층의 어느 L2스위치에나 연결할 수 있게 됩니다, 이 장점으로 서버와 렉의 물리적 제약으로부터 해방된다는 것을 의미합니다. 

### 3.1.5. 네트워크 기본 용어설명

#### (1) TCP/IP

- TCP/IP(Transmission Control Protocol / Internet Protocol)는 현재 일반적으로 사용되는 프로트콜입니다.
- 전세계에서 TCP/IP가 표준으로 사용되고 있기에, 우리는 인터넷에 연결된 전세계의 컴퓨터와 쉽게 통신할 수 있습니다.

#### (2) OSI참조모델

​	<img width="700" alt="스크린샷 2020-11-27 오전 9 49 33" src="https://user-images.githubusercontent.com/71860142/100399375-df53bf00-3095-11eb-8ed6-bd4c239f1458.png"> 

- 국제 표준화기구 ISO에 의해 책정된 컴퓨터가 가져야 할 통신 기능을 계층구조로 나눈 모델을 말합니다.
- OSI참조모델에서는 통신기능(통신 프로트콜)을 일곱개의 레이어로 나누어 정의합니다.

#### (3) TCP

- TCP는 연결 지능형 프로트콜이고 고품질 통신을 실현합니다.
- TCP에서는 데이터통신이 이루어지면, 송신한 패킷의 순서와 수신한 쪽에서 받을때 순서가 다르면 순서를 바꾸고 또는 일부 패킷이 유실되면 재전송하는 등의 기능이 있습니다. 이런 기능 덕분에 TCP에서는 보내는 쪽과 받는 쪽에서 확실한 통신이 보증됩니다.
- TCP통신은 오버헤드가 크고 UDP와 비교하면 느립니다.
- 웹이나 메일등 확실하게 통신이 이뤄져야 하는 신뢰성이 필요한 어플리케이션에서 사용됩니다.

#### (4) UDP

- UDP(User Datagram Protocol)는 비연결형 프로트콜이고 저품질이지만 속도가 빠릅니다.
- UDP에서는 연결을 계속하지않고 일방적으로 데이터를 전송합니다.
- 일방적으로 전송하므로 상대방이 그 정보를 수신한다는 보증이 없으며, 또한 수신한 쪽에서 정보를 받았다고 응답하는 기능이 프로트콜에 없습니다.
- UDP는 음성 전화나 동영상등 정보가 일부 유실 되어도 문제 없이 애플리케이션에서 이용됩니다.

#### (5) HTTP

- Hyper Text Transfer Potocol의 약자입니다,
- 인터넷에서 웹서버와 사용자 컴퓨터에 설치된 웹 브라우저 사이에 문서를 전송하기 위한 규약입니다.

#### (6) HTTPS

- HTTP에 Secure Socket을 추가한 것입니다, 기본구조나 사용목적등은 HTTP와 거의 동일하지만, 데이터를 주고 받는 과정에 보안요소가 추가된 것이 큰 차이점입니다.
- 쉽게말하면 HTTPS를 사용하면 서버와 클라이언트 사이의 모든 통신 내용이 암호화되는 것입니다.

#### (7) FTP

- File Transfer Protocol의 약자입니다.
- 인터넷을 통한 파일 송수신만을 위해 고안된 프로토콜이기 때문에 동작방식이 단순하고 직관적입니다.
- 무엇보다 www방식보다 파일을 빠른 속도로 한꺼번에 주고 받을 수 있다는 점이 가장 큰 장점입니다.

#### (8) 3웨이핸드쉐이크 : SYN과 ACK

​	<img width="500" alt="스크린샷 2020-11-24 오후 2 48 13" src="https://user-images.githubusercontent.com/71860142/100058111-12b30580-2e6c-11eb-90bf-69256a4ce53e.png"> 

- 송신측과 수신측에서 SYN과 ACK를 서로 주고 받으며 성립하게 됩니다.
- TCP연결에서는 3웨이핸드쉐이크를 거쳐서 TCP연결을 확립하고 UDP는 비연결형프로트콜이므로 3웨이핸드쉐이크를 하지않습니다.

#### (9) 스위칭과 라우팅

- LAN안에서 L2스위치(가정용 L2 스위치는 스위칭허브라고 부름)를 통한 통신을 스위칭이라고 합니다.
- 라우터 혹은 L3 스위치를 통해 LAN과 LAN 사이로 걸쳐 통신하는 것을 라우팅이라고 합니다.

#### (10) IPv4와 IPv6

- 일반적으로 보급되는 IPv4의 IP주소는 '172.16.5.21'처럼 표기되며 8bit x 4 = 32bit로 구성합니다, 32bit라는 크기는 전세계적인 규모를 이용되는 현대 인터넷환경에서는 충분하지않습니다.
- IPv6의 IP주소는 '1951:ac65:aaaa:bbbb:cccc::1'처럼 표기되며 16bit x 8 = 128bit로 구성됩니다, IPv6에서는 0을 생략할 수 있습니다.
- IPv4의 IP주소가 고갈되어 신규 할당이 중단되면서 드디어 IPv6이 보급되나 생각했지만, 현시점에서 두드러지는 IPv6으로 이행하는 움직임은 보이지 않습니다, 그 이유는 지금까지 IPv4에서 유효하게 활용되지 않던 사장된 IP주소가 유효하게 활용 되기 시작했고 사업자들도 IPv6으로의 이행을 주저합니다. 그리고 IPv6으로 이행할 적극적인 동기가 없습니다.

#### (11) 네트워크 인터페이스를 묶는다.

- 주요 운영체제에서는 네트워크 인터페이스를 묶어서 사용할 수 있습니다, 네트워크 인터페이스를 묶는다는 것은 여러개의 네트워크 인터페이스에 같은 IP주소나 MAC주소를 부여해서 Active-Active, 혹은 Active-Standby구성으로 통신하도록 설정하는 구조를 말합니다. 네트워크 인터페이스를 묶으면 내장애성이 올라가고 사용할 수 있는 대역이 늘어나는 효과를 얻을수 있습니다.

- 네트워크 인터페이스를 묶는 기능은 업체나 운영체제에 따라 용어가 다릅니다.

  | 용어              | 업체&운영체제    |
  | ----------------- | ---------------- |
  | 본딩              | 리눅스           |
  | 티밍              | 복수의 NIC업체   |
  | 링크 어그리게이션 | 네트워크기능     |
  | 이더채널          | 시스코 시스템즈  |
  | 포트트랭킹        | 얼라이드텔레시스 |


### 3.1.6. 인터넷연결

- 인터넷을 연결하기 위해선 라우터 혹은 L3 스위치가 외부 네트워크 회선에 연결되어야합니다.
- 자사에서 ISP의 회선을 끌어오거나 데이터센터가 제공하는 네트워크 서비스를 이용해 코어 스위치와 데이터센터 스위치를 연결하는 방법등이 있습니다.
- 중소규모에서는 데이터센터가 제공하는 네트워크 서비스를 이용하는 편이 손쉽기 때문에 장점이 될 수 있지만 대규모에서는 직접 회선을 끌어오는 것이 비용면에서 유리할 뿐만아니라 서비스 수준을 직접 관리할 수 있습니다.

### 3.1.7. 네트워크 케이블

#### (1) LAN케이블

- 일반적으로 이용되는 LAN케이블은 UTP케이블, 트위스트 페러 케이블, 이더넷 케이블등 다양한 이름이 있습니다.
- 이더넷이 고속화됨에 따라 LAN케이블로 점점 새로운 규칙이 등장하고 있습니다.
- 서버와 네트워크 장비의 연결에는 CAT5으로 충분합니다.
- 다만, 네트워크 장비간의 통신에는 CAT6 ~ CAT7과 같은 고픔질 LAN케이블을 사용하면 안심하고 사용할 수 있습니다.

#### (2) 광파이버 케이블

- 기가 바이트 네트워크에서 사용되는 주요 규격에는  1000BASE-SX와 1000BASE-LX가 있으며, 광섬유로는 멀티 모드 파이버 혹은 싱글 모드 파이버가 이용됩니다.

- 멀티 모드 파이버는 전송거리가 짧고 값이 싸지만, 싱글 모드 파이버는 전송거리가 길고 비쌉니다.

- 광 파이버 케이블의 양 끝에 사용되는 커넥터 종류는 다양하지만 특히 SC커넥터와 LC커넥터가 주로 사용됩니다. 또한, 광케이블안에서는 광신호로 전달되지만 네트워크장비 내부에서는 전기 신호로 전달되므로 광신호와 전기신호를 변환하는 네트워크장비 트랜시버가 사용됩니다.

- 트랜시버 모듈은 SC커넥터에는 GBIC가 LC커넥터에는 SFP가 사용됩니다. 

  <img width="630" alt="스크린샷 2020-11-24 오후 3 51 25" src="https://user-images.githubusercontent.com/71860142/100058578-ee0b5d80-2e6c-11eb-90b9-bd501b01d653.png">  



## 3.2. 스토리지

<img width="550" alt="스크린샷 2020-11-25 오후 5 51 37" src="https://user-images.githubusercontent.com/71860142/100204527-4dd63700-2f47-11eb-94d4-561ecffd6a4a.png"> 

### 3.2.1. 스토리지란?

- 데이터를 저장하는 장치를 스토리지라고 부릅니다.
- 스토리지에는 서버내부의 저장영역인 로컬스토리지와 서버외부의 저장영역인 외부스토리지가 있으며 외부스토리지에는 서버에 직접연결하는 것(DAS)과 네트워크를 통해 연결하는 것(NAS, SAN)가 있습니다.

### 3.2.2. 로컬 스토리지와 외부 스토리지

#### (1) 로컬 스토리지

- 서버내부에 디스크를 설치해서 이용하는 저장영역을 말합니다.
- 외부 스토리지를 사용하지 않으므로 설치공간은 절약할 수 있습니다.
- 그러나 외부 스토리지를 이용할 때와 비교하면 설치할 수 있는 디스크 개수와 확장성이 적어집니다.

#### (2) 외부 스토리지

- 서버외부에 준비한 스토리지 장비, 혹은 스토리지 영역을 말합니다.

- 외부 스토리지에는 세가지 형태가 있습니다.

  - DAS(Direct Attached Storage)

    <img width="725" alt="스크린샷 2020-11-26 오후 12 10 32" src="https://user-images.githubusercontent.com/71860142/100303692-74947c00-2fe0-11eb-87ee-c9beb8cc5e4c.png"> 
  
    - 서버에 직접 연결하는 스토리지 장비입니다.
    - DAS를 이용하면 로컬 스토리지만으로 용량이 부족할 때 필요한 용량을 늘릴 수 있습니다.
    - 많은 디스크를 설치할 수 있으므로 스트라이밍 수가 많은 RAID로 구성하여 디스크 I/O 성능을 크게 높일수 있습니다.
    - DAS에는 서버에 RAID 컨트롤러 보드를 꽂아 연결하는 형태와 HDA(Host Bus Adaptor)보드를 꽂아 연결하는 형태가 있습니다, 전자는 RAID 컨트롤러 보드가 RAID 구성을 관리하지만, 후자는 스토리지에 내장된 RAID 컨트롤러가 RAID 구성을 관리합니다.
  
  - NAS(Network Attached Storage)
  
    <img width="370" alt="스크린샷 2020-11-25 오후 5 52 05" src="https://user-images.githubusercontent.com/71860142/100204662-79592180-2f47-11eb-832c-6e938b987de9.png"> 
  
    - 네트워크를 통해 여러대의 서버가 액세스할 수 있는 스토리지입니다.
    - 서버와 NAS간에 NFS,SMB/CIFS, AFT와 같은 프로트콜을 이용해서 통신합니다.
    - 예를 들어 윈도PC에서는 NAS를 네트워크상에 있는 공유폴더처럼 다룰 수 있습니다.
    - NAS는 여러대의 서버에서 데이터를 공유할 때나 여러대의 서버에서 발생하는 백업과 로그파일을 한군데에 모으는 용도로 사용합니다.
  
  - SAN(Storage Area Network)
  
    - 블록단위의 데이터 스토리지 전용 네트워크입니다.
  
    - 고속과 고품질환경을 요구하는 환경에서 이용됩니다
  
    - SAN의 종류
  
      <img width="700" alt="스크린샷 2020-11-25 오후 6 04 22" src="https://user-images.githubusercontent.com/71860142/100205629-b5d94d00-2f48-11eb-872f-6aa20ebeae96.png"> 
  
      <img width="700" alt="스크린샷 2020-11-25 오후 6 03 55" src="https://user-images.githubusercontent.com/71860142/100205668-c38ed280-2f48-11eb-8d72-20455bac526f.png">  
  
      | 종류   | 설명                                                         |
      | ------ | ------------------------------------------------------------ |
      | FC-SAN | - Fibre Chennal SAN은 파이버 채널 기반으로 구축된 고속/고품질 스토리지 전용 네트워크입니다.<br />- FC-SAN환경은 일반적으로 기간계 데이터베이스등 중요한 데이터를 다루는 환경에서 이용됩니다.<br />- FC-SAN을 사용하는 서버에서는 HBA보드를 설치하여 SAN스위치를 통하거나 SAN 스토리지를 직접 연결합니다. |
      | IP-SAN | - Internet Protocol SAN은 고속/고품질 통신을 가능하게 합니다. 하지만 가격이 매우 비쌉니다.<br />- IP-SAN에서는 iSCSI 스토리지가 이용됩니다.(iSCSI란 서버와 스토리지의 통신에 사용하는 SCSI 커맨드를 IP네트워크를 통해 송수신하는 프로트콜을 말합니다.)<br />- 서버와 iSCSI 스토리지는 모두 L2/L3스위치 등을 통해 연결할 수 있습니다. |

### 3.2.3. 핫스페어

<img width="750" alt="스크린샷 2020-11-25 오후 5 53 59" src="https://user-images.githubusercontent.com/71860142/100205179-1f0c9080-2f48-11eb-840b-0346b738fedd.png"> 

- 핫스페어는 다른 디스크가 고장 났을때를 위해 대기하는 스텐바이 디스크를 말합니다.
- 핫스페어가 있으면 스토리지 인클로저가 디스크 고장을 감지했을때 자동으로 핫스페어가 활성화 되며 고장난 디스크를 대신해 RAID그룹안에 들어갑니다.
- 핫스페어가 활성화되어  RAID그룹안에 들어가면, 고장난 디스크는 고장상태로 처리가 되어 시스템에서 분리됩니다. 이 상태에서 고장난 디스크를 새디스크로 교체하면 이번에는 교체된 디스크가 핫스페어로 대기합니다.

### 3.2.4. 외부 스토리지 이용

#### (1) 저장영역을 많이 확보하고 싶다.

<img width="450" alt="스크린샷 2020-11-25 오후 7 19 45" src="https://user-images.githubusercontent.com/71860142/100215285-289bf580-2f54-11eb-9d4f-779f5293bdfb.png"> 

- 데이터 양이 많아서 서버의 로컬 스토리지 용량으로는 충분하지 않을때는 저장영역확보를 외부 스토리지에 맡길 수 있습니다.

#### (2) 디스크 I/O 성능향상

<img width="800" alt="스크린샷 2020-11-25 오후 7 20 13" src="https://user-images.githubusercontent.com/71860142/100215359-3d788900-2f54-11eb-9317-ca33c46f6496.png">  

- 로컬 스토리지의 디스크 I/O 성능이 충분하지않을때, 외부 스토리지를 사용하여 디스크 I/O 성능을 향상 시킬 수 있습니다.

#### (3) 스토리지 통합 및 집중 관리

<img width="680" alt="스크린샷 2020-11-26 오전 9 01 28" src="https://user-images.githubusercontent.com/71860142/100293189-40ac5d00-2fc6-11eb-8d8f-b1ddc9720096.png">  

- 서버별로 중요한 데이터가 분산되어 있으면 스토리지 관리가 어려워집니다. 또한 복수 스토리지가 있으면 스토리지마다 조금씩 남는 공간이 발생하는데, 모두를 합하면 상당한 양의 미사용 저장영역이 생기게 됩니다.
- 통합 스토리지로 복수의 스토리지를 집약하면, 저장영역을 낭비하지않고 유용하게 활용할 수 있어서 운영비용을 낮출 수 있습니다.

<img width="800" alt="스크린샷 2020-11-26 오전 9 02 22" src="https://user-images.githubusercontent.com/71860142/100293196-430eb700-2fc6-11eb-9386-5168f37dd150.png">  

#### (4) 복수의 서버에서 공유

<img width="550" alt="스크린샷 2020-11-25 오후 7 22 06" src="https://user-images.githubusercontent.com/71860142/100215663-a19b4d00-2f54-11eb-887b-0527695b86ff.png">  

- 복수의 서버에서 같은 데이터와 소스코드를 읽고 쓸수 있게하거나, 데이터베이스 클러스터링환경에서 어느 서버든지 같은 데이터에 엑세스할 수 있게 할때는 NAS를 이용하면 쉽게 구현할 수 있습니다.

### 3.2.5 스토리지의 고급기능

#### (1) 씬 프로비저닝

<img width="600" alt="스크린샷 2020-11-25 오후 7 22 31" src="https://user-images.githubusercontent.com/71860142/100215718-b5df4a00-2f54-11eb-90b1-f3a388598966.png"> 

- 씬 프로비저닝(Thin Provisioning)은 물리 스토리지 용량보다 많은 논리 볼륨을 할당할 수 있는 기능입니다.
- 논리 볼륨을 할당할때는 용량부족으로 장애가 일어나지 않도록 안전을 고려해서 실제 사용량보다 크게 할당합니다. 하지만 논리 볼륨이 많이 만들어지면 여분용량 때문에 비용이 더 발생합니다, 이런 경우 씬 프로비저닝을 이용하면 할당한 용량만큼의 물리 스토리지를 준비하지 않아도 실제로 필요한 물리 스토리지만 준비할 수 있게 됩니다.
- 씬 프로비저닝은 가상서버 환경처럼 게스트환경처럼 게스트 운영체제마다 논리볼륨을 만드는 환경에서 특히 효과적입니다.

#### (2) 자동계층화

<img width="490" alt="스크린샷 2020-11-25 오후 7 22 56" src="https://user-images.githubusercontent.com/71860142/100215749-c1327580-2f54-11eb-9655-1847cadf8cab.png"> 

- 자동계층화는 서로 다른 성능의 디스크를 조합해서 이용빈도가 높은 데이터는 고가의 빠른 장비에, 이용빈도가 낮은 데이터는 저가의 느린 장비에 자동으로 저장하는 기능입니다.
- 다양한 계층에 데이터를 자동저장하는 기법으로는 미리 특정한 규칙을 설정해두는 방법과 각 파일의 이용상황을 스토리지가 스스로 판단해서 자동으로 적절한 계층으로 이동시키는 방법등 제품에 따라 다양한 구현 방식이 있습니다.

#### (3) 디둡

<img width="670" alt="스크린샷 2020-11-25 오후 7 23 38" src="https://user-images.githubusercontent.com/71860142/100215801-d1e2eb80-2f54-11eb-9ef8-aa9f974d301c.png"> 

- De-duplication은 스토리지를 백업할 때, 먼저 저장된 데이터가 있으면 그 데이터는 복사하지 않기 때문에 저장영역을 절약할 수 있는 기능입니다. 디둡은 중복제거 기능이라고도 부릅니다.

#### (4) 스냅샷

<img width="570" alt="스크린샷 2020-11-25 오후 7 24 20" src="https://user-images.githubusercontent.com/71860142/100215861-e6bf7f00-2f54-11eb-8810-d070b8254fd7.png"> 

- 스냅샷은 어떤 순간의 파일 시스템의 정지점을 순간적으로 보존해 두는 기능입니다.
- 스냅샷 기능을 실현하기위해 일반적으로 이용되는 구현방식은 파일이 갱신될 때마다 갱신 이력과 함계 갱신전의 파일을 스냅샷용 스토리지 공간에 기록해 가는 방법입니다.
- 스냅샷이라고 해서 그 시점에서의 모든 파일을 다른 디스크에 복사하는 것이 아니라, 갱신 이력 정보를 관리함으로서 그 시점에서의 파일 시스템의 상황을 복원할 수 있는 기능이 됩니다.



## 3.3. 데이터 센터 

### 3.3.1. 데이터 센터란?

<img width="800" alt="스크린샷 2020-11-26 오전 10 17 25" src="https://user-images.githubusercontent.com/71860142/100296859-9dad1080-2fd0-11eb-9d60-ed0764cbba78.png"> 

- 현대의 기업은 통신, 정보 저장, 회계, 일상적인 업무 등 비즈니스 운영의 거의 모든 측면에 컴퓨터를 사용합니다. 데이터 센터는 기업 컴퓨터, 네트워크, 스토리지 그리고 비즈니스 운영을 지원하는 기타 IT장비가 위치하는 중앙집권식 물리적 서버입니다.
- 기계실, 전산실, IDC(Internet Data Center)등으로 불리기도 합니다.
- 데이터 센터의 규모는 캐비넷, 전용룸, 창고크기 등으로 다양합니다. 데이터 센터에 많은 IT장비를 보유한 기업인 경우에는 2개이상의 데이터 센터 시설이 필요할 수 있으며, 서버공간을 임대하거나 외부에 데이터 센터 유지보수를 맡길수도 있습니다. 
- 데이터 센터는 운영 또는 저장규모를 높이기 위해 프라이빗 또는 퍼블릭 클라우드를 사용하여 물리적 시설을 외부로까지 확장할 수 있습니다. 가상화된 데이터 센터는 보다 큰 규모의 워크로드 실행에 필요한 경우 원격 지점에 위치한 서버를 사용할 수 있습니다.

### 3.3.2. 계층형 데이터 센터

- 데이터 센터는 다양한 수준의 보안, 지연시간, 복원력이 존재할 수 있으며, 이러한 수준을 가르켜 계층이라고합니다.
- 계층형 데이터 센터는 계층형 데이터 스토리지가 가능하여 사용자가 가장 자주 액세스하거나 고성능을 요하는 애플리케이션 파일과 데이터가 하나의 계층에 위치하고 액세스가 비교적 자주 발생하지 않는 데이터는 다른 계층에 위치할 수 있습니다. 퍼블릭 클라우드에 기반을 둔 서비스로서의 스토리지 모델에서는 일반적으로 지연시간이 긴 계층보다 가격이 높습니다.
- 일반적으로 지연시간이 가장 짧고 액세스가 가장 빠른 계층이 사용자와의 거리가 가장 가깝기 때문에 사용자가 매일 손쉽게 상호작용할 수 있습니다. 가장 빠른 계층을 가르켜 '티어 제로'라고 합니다.
- 빅데이터 분석을 위해 고성능 컴퓨팅을 사용하는 금융서비스나 의햑 연구와 같은 비즈니스에서 티어 제로 스토리지를 사용하는 경우가 많습니다. 이보다 스토리지 성능이 낮은 계층은 주요 계층의 백업이나 액세스 빈도가 상대적으로 낮은 데이터 스토리지로 사용할 수 있습니다.

### 3.3.3. 데이터 센터의 가상화

- 물리적인 데이터 센터는 공간이 제약 되어 있고 하드웨어와 장비에 의존한다는 점에서 한계가 있습니다. 이제 서버를 가상화하여 가상머신에서 처리 성능과 메모리를 하드웨어로부터 분리할 수 있습니다.
- 데이터 센터 가상화를 통해 시스템 관리자는 원격서버를 사용하여 가상 데이터 센터 인프라를 구축함으로써 위크로드와 스토리지를 공유할 수 있습니다.
- 가상화 데이터 센터는 기존의 물리적인 데이터 센터에 비해 더 적은 장비, 전력, 공간이 필요로 하며, 더 많은 스토리지나 처리 리소스사 필요한 경우 퍼블릭 또는 프라이빗 클라우드에 액세스 또는 버스팅(Burst) 할 수 있습니다.
- 가상 데이터 센터가 제공하는 네트워킹과 스토리지등 모든 서비스는 하드웨어가 아닌 소프트웨어를 통해 제공되기 때문에 가상 데이터 센터를 Software-Defined Data Center 라고도 부릅니다.  

### 3.3.4. 데이터 센터를 선정하기 위한 요소

최신 데이터 센터를 선정하기위해는 많은 요소들을 고려해야 합니다. 적절한 계획, 유지보수 및 보안을 갖춘 데이터 센터는 가동 중지 시간과 데이터 유출의 위험이 줄여줍니다. 이와같은 여러요소에 대해 설명하겠습니다.

#### (1) 백업 / Redundancy 

- 주요 요소는 모든 유형의 응급상황에 대응할 수 있는 데이터 센터 기능에 달려있습니다. 데이터 센터는 재해나 사고에도 지속적으로 작동하고 영향을 받지 않아야 합니다. 비상시에도 비즈니스 연속성을 위해 모니터링 및 발전기, 이중화 시스템이 포함된 강력한 비상 백업 시스템이 필요합니다.

#### (2) 효율성

- 대형 데이터 센터에서 사용되는 전기량은 작은 마을의 전력량에 필적합니다. 가능할때마다 데이터 센터는 냉각 프로세스를 최적화하고 에너지 효율적인 하드웨어를 사용하여 비용을 줄여야 합니다.

#### (3) 보안 

- 많은 기업들이 사이버 보안을 위해 강력한 프로트콜을 선택하고 있습니다. 이는 악의적인 사이버 공격으로부터 데이터 센터를 보호한다는 의미입니다. 물리적인 보안은 사이버 보안만큼 중요합니다. 데이터는 도난, 파괴 및 무단 액세스와 같은 물리적 위협으로부터 안전해야 합니다. 

#### (4) 환경제어

- 올바른 환경조건을 유지하는 것은 전자 하드웨어를 위해 필요합니다. 허용 가능한 매개변수내에서 온도와 습도를 유지하려면 에어컨, 습도조절 및 기류조절의 적절한 균형이 필요합니다.

#### (5) 유지관리 및 모니터링 

- 비즈니스 운영이  하루, 몇 주 또한 수개월동안 빠르게 변화하고 있고, 트랜드에 맞추어 시스템을 변경하는 것은 자주 일어나는 상황입니다. 따라서 특정시점에서 비즈니스에 필요한 사항에따라 유연성을 허용하는 데이터 센터를 선택해야합니다.

#### (6) 대역폭

- 데이터 센터는 네트워크 인프라 설계만큼이나 중요합니다. 네트워크 안정성, 속도 및 보안과 같은 변수를 통해 네트워크가 얼마나 견고한지 알 수 있습니다. 현재와 미래의 요구에 적합한 용량을 갖춘 데이터 센터를 선택해야 합니다.

